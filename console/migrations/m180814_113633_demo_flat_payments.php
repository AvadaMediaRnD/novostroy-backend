<?php

use yii\db\Migration;

/**
 * Class m180814_113633_demo_flat_payments
 */
class m180814_113633_demo_flat_payments extends Migration
{
    /**
     * {@inheritdoc}
     */
    public function safeUp()
    {
        $this->batchInsert('payment', ['id', 'pay_number', 'pay_date', 'price_plan', 'price_fact', 'price_saldo', 'created_at', 'updated_at', 'flat_id'], [
            [1, 1, '2018-05-15', 2000, 2000, 0, 1534240000, 1534240000, 3],
            [2, 2, '2018-06-15', 2000, 1500, -500, 1534240000, 1534240000, 3],
            [3, 3, '2018-07-15', 2000, 1000, -1000, 1534240000, 1534240000, 3],
            [4, 4, '2018-08-15', 2000, 2500, 500, 1534240000, 1534240000, 3],
            [5, 5, '2018-09-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [6, 6, '2018-10-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [7, 7, '2018-11-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [8, 8, '2018-12-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [9, 9, '2019-01-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [10, 10, '2019-02-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [11, 11, '2019-03-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            [12, 12, '2019-04-15', 2000, 0, 0, 1534240000, 1534240000, 3],
            
            [13, 1, '2018-05-15', 2000, 2000, 0, 1534240000, 1534240000, 6],
            [14, 2, '2018-06-15', 2000, 2000, 0, 1534240000, 1534240000, 6],
            [15, 3, '2018-07-15', 2000, 2000, 0, 1534240000, 1534240000, 6],
            [16, 4, '2018-08-15', 2000, 2500, 500, 1534240000, 1534240000, 6],
            [17, 5, '2018-09-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [18, 6, '2018-10-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [19, 7, '2018-11-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [20, 8, '2018-12-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [21, 9, '2019-01-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [22, 10, '2019-02-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [23, 11, '2019-03-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            [24, 12, '2019-04-15', 2000, 0, 0, 1534240000, 1534240000, 6],
            
            [25, 1, '2018-05-15', 2000, 2000, 0, 1534240000, 1534240000, 9],
            [26, 2, '2018-06-15', 2000, 0, 2000, 1534240000, 1534240000, 9],
            [27, 3, '2018-07-15', 2000, 0, 2000, 1534240000, 1534240000, 9],
            [28, 4, '2018-08-15', 2000, 0, 2000, 1534240000, 1534240000, 9],
            [29, 5, '2018-09-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [30, 6, '2018-10-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [31, 7, '2018-11-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [32, 8, '2018-12-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [33, 9, '2019-01-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [34, 10, '2019-02-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [35, 11, '2019-03-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            [36, 12, '2019-04-15', 2000, 0, 0, 1534240000, 1534240000, 9],
            
            [37, 1, '2018-05-15', 2000, 2000, 0, 1534240000, 1534240000, 16],
            [38, 2, '2018-06-15', 2000, 3000, 1000, 1534240000, 1534240000, 16],
            [39, 3, '2018-07-15', 2000, 2000, 0, 1534240000, 1534240000, 16],
            [40, 4, '2018-08-15', 2000, 2500, 500, 1534240000, 1534240000, 16],
            [41, 5, '2018-09-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [42, 6, '2018-10-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [43, 7, '2018-11-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [44, 8, '2018-12-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [45, 9, '2019-01-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [46, 10, '2019-02-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [47, 11, '2019-03-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            [48, 12, '2019-04-15', 2000, 0, 0, 1534240000, 1534240000, 16],
            
            [49, 1, '2018-05-15', 2000, 1000, -1000, 1534240000, 1534240000, 26],
            [50, 2, '2018-06-15', 2000, 3000, 1000, 1534240000, 1534240000, 26],
            [51, 3, '2018-07-15', 2000, 2000, 0, 1534240000, 1534240000, 26],
            [52, 4, '2018-08-15', 2000, 3500, 1500, 1534240000, 1534240000, 26],
            [53, 5, '2018-09-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [54, 6, '2018-10-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [55, 7, '2018-11-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [56, 8, '2018-12-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [57, 9, '2019-01-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [58, 10, '2019-02-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [59, 11, '2019-03-15', 2000, 0, 0, 1534240000, 1534240000, 26],
            [60, 12, '2019-04-15', 2000, 0, 0, 1534240000, 1534240000, 26],
        ]);
    }

    /**
     * {@inheritdoc}
     */
    public function safeDown()
    {
        $sql = "
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

DELETE FROM `payment`;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
            ";
        $this->execute($sql);
    }

    /*
    // Use up()/down() to run migration code without a transaction.
    public function up()
    {

    }

    public function down()
    {
        echo "m180814_113633_demo_flat_payments cannot be reverted.\n";

        return false;
    }
    */
}
